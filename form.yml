cluster: "research"
form:
  - conda_path
  - apptainer_image
  - bih_cpus
  - bih_mem
  - bih_time
  - bih_partition
attributes:
  conda_path:
    widget: "text_field"
    label: "Path to miniforge3 installation"
    help: |
      Specify the path including the "bin" of the Miniforge3 installation
      that you want to use, separate name of environment with a colon.
      Example: `~/work/bin/miniforge3/bin:R_4.3.3`.
    required: true
    value: "~/work/bin/miniforge3/bin:R_4.3.3"
  apptainer_image:
    widget: "select"
    label: "RStudio server version"
    value: "4.5.0"
    help: |
      These are regularly updated by the BIH-CUBI HPC team. You can choose 
      a version which is above your version (likely 4.3.3). Choose the highest
      one and if it doesn't work, try another
    options:
      - [ "4.5.0", "rocker-rstudio_4.5.0.sif" ]
      - [ "4.4.2", "rocker-rstudio_4.4.2.sif" ]
      - [ "4.4.1", "rocker-rstudio_4.4.1.sif" ]
  bih_cpus:
    widget: "number_field"
    label: "Number of cores"
    value: 32
    min: 1
    max: 64
    step: 1
  bih_mem:
    widget: "number_field"
    label: "Memory, in gigabytes"
    value: 64
    min: 1
    max: 199
  bih_time:
    widget: "text_field"
    label: "Running time"
    value: "1d"
    required: true
    help: |
      Specify the running time in either hours (e.g. '12h') or days (e.g. '3d')
    pattern: "^([0-9]{1,2}h|[1-9]d|1[0-4]d)$"
  bih_partition:
    widget: select
    label: "partition to run in"
    value: "long"
    help: |
      - **medium** - at most 7 days available (up to 128 cores in all jobs)
      - **long** - at most 28 days available (up to 32 cores in all jobs)
    options:
      - [ "medium", "medium" ]
      - [ "long", "long" ]
